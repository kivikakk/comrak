:root {
    color-scheme: light dark;

    --light-bg: #FFFFFF;
    --light-fg: #000000;

    --dark-bg: #1C1B22;
    --dark-fg: #FBFBFE;

    --md-opacity: 60%;
    --light-md: color-mix(in oklch, var(--light-fg), transparent calc(100% - var(--md-opacity)));
    --dark-md: color-mix(in oklch, var(--dark-fg), transparent calc(100% - var(--md-opacity)));

    --bg: light-dark(var(--light-bg), var(--dark-bg));
    --fg: light-dark(var(--light-fg), var(--dark-fg));
    --fg-md: light-dark(var(--light-md), var(--dark-md));
}

body {
    background-color: var(--bg);
    color: var(--fg);

    font-size: 20px;
    text-wrap: pretty;
    line-height: 1.3;

    max-width: 1000px;

    margin: 1em 4em;
}

@media only screen and (max-width: 1000px) {
    body {
        margin: 1em 2em;
    }
}

@media only screen and (max-width: 600px) {
    body {
        font-size: 18px;
        line-height: 1.2;

        margin: 0.5em 1.5em;
    }
}

a {
    color: light-dark(#0000EE, #8C8CFF);
}

a:active {
    color: light-dark(#EE0000, #FA6464);
}

a:visited {
    color: light-dark(#551A8B, #FFADFF);
}

h1, h2 {
    font-family: sans-serif;
}


h1::before { content: '# ';  opacity: var(--md-opacity); }
h2::before { content: '## '; opacity: var(--md-opacity); }

strong {
    &::before, &::after { content: '**'; opacity: var(--md-opacity); }
}

a {
    white-space: nowrap;
}

a:not(.anchor):not([data-footnote-ref]) {
    &::before { content: '['; opacity: var(--md-opacity); }
    &::after  { content: ']'; opacity: var(--md-opacity); }
}

a[data-footnote-ref] {
    &::before { content: '[^'; opacity: var(--md-opacity); }
    &::after  { content: ']';  opacity: var(--md-opacity); }
}

code {
    font-size: 1rem;
    display: inline-block;

    &::before, &::after { content: '`'; opacity: var(--md-opacity); }
}

ul {
    list-style-type: none;
}

ul li::marker {
    content: '* ';
    font-family: monospace;
    /* Can't use opacity here. */
    color: var(--fg-md);
}

section.footnotes li:target {
    animation-name: highlight;
    animation-duration: 2s;
}

@keyframes highlight {
    10%, 90% {
        background-color: light-dark(
            oklch(from var(--light-bg) calc(l - 0.1) c h),
            oklch(from var(--dark-bg) calc(l + 0.1) c h)
        );
    }

    100% {
        background-color: inherit;
    }
}
